####################################################################################################
# Prepare the following two table-like data objects in text, Excel or R files to run this analysis
# <matrix> a numeric matrix saved in a .txt, .tab, .csv, .xlxs, .xls, .rdata, .rda, or .rds 
#   - first column is unique variable names such as gene or protein ID
#   - first row is unique sample names
#   - impact of missing values has not been untested, try not to include any
# <sample> a table saved in a .txt, .tab, .csv, .xlxs, .xls, .rdata, .rda, or .rds
#   - first column is unique sample names matching column names of <matrix>
#   - first row is unique sample features such as genotype, treatment, and cell type
#   - impact of missing values has not been untested, try not to include any
#   - the values of parameters <interest> and <batch> must match column names in this table
####################################################################################################

####################
##### REQUIRED #####
####################
# Required fields for generating any report using the RoCA::CreateReport() function
template: https://raw.githubusercontent.com/zhezhangsh/RoCA/master/template/qc/adjust_batch/adjust_batch.Rmd      
output: examples/NCI60_Organ               # Where to write all the output files
home: http://zhezhangsh.github.io/RoCA     # URL or path to the project home page. Leave it empty if the page doesn't exist.
analyst: Zhe Zhang                         # Name of the analyst
zip: no                                    # Whether to zip all output files

#################
##### ABOUT #####
#################
# Description of this analysis, could be any name/text pairs
description:    
  Project: "Comparison between cell lines from 9 different cancer tissues (NCI-60); 
          **[GSE5949](http://www.ncbi.nlm.nih.gov/geo/query/acc.cgi?acc=GSE5949)**"
  PubMed: "Reinhold WC, Reimers MA, Lorenzi P, Ho J et al. 
          **Multifactorial regulation of E-cadherin expression: an integrative study.** 
          Mol Cancer Ther 2010 Jan;9(1):1-16. PMID: [20053763](http://www.ncbi.nlm.nih.gov/pubmed/20053763)."
  Experimental design: Comparison between cell lines from 9 different cancer tissue of origin types 
          (Breast, Central Nervous System, Colon, Leukemia, Melanoma, Non-Small Cell Lung, Ovarian, Prostate, Renal) from NCI-60 panel
  Analysis: Evaluate and adjust batch effect of p53 status. Only a subset of genes with high between-sample variance was used as a demo.

######################
##### INPUT DATA #####
######################
# Prepared input data, saved in .rds format using the saveRDS() function
input:
  matrix: https://raw.githubusercontent.com/zhezhangsh/RoCA/master/data/gex/NCI60/expr_demo.txt   # Full matrix of processed gene expression matrix, before batch adjustment 
  sample: https://raw.githubusercontent.com/zhezhangsh/RoCA/master/data/gex/NCI60/sample_p53.rds  # A data.frame of sample features. Rows match columns of the data matrix

######################
##### PARAMETERS #####
######################
# Parameters to run this analysis
parameter:
  interest:         # One or more sample features in the <sample> table that were variable(s) of interest in this study
  - Organ
  batch: p53_Status  # One sample feature in the <sample> table that is the known source of batch effect; empty if not known
  nsv: 5            # Number of surogate variables to estimate when running the sva() function
  iteration: 20     # Number of iterations when running the irwsva algorithm implemented in the sva() function
  anova: 0.01       # Cutoff of ANOVA p value indicating the significance of correlation between sample features and surrogate variables
