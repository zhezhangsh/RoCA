####################################################################################################
# To run this analysis, prepare 2 R data objects and save them as .rds files
#   1. an R matrix with each sample as a column and each gene or other variable as a row
#   2. an R data.frame with each sample feature as a column and each sample as a row. 
#       The row names must match the column names in the data matrix.
#       Each column must be a categoral or numeric variable, with no missing values
####################################################################################################

####################
##### REQUIRED #####
####################
# Required fields for generating any report using the RoCA::CreateReport() function
template: https://raw.githubusercontent.com/zhezhangsh/RoCA/master/template/qc/adjust_batch/adjust_batch.Rmd  # URL or file name of the .Rmd template file provided by the developer
output: examples/NCI60_Organ/                                                                                 # Where to write all the output files
home: http://www.ncbi.nlm.nih.gov/geo/query/acc.cgi?acc=GSE5949                                                   # URL or path to the project home page. Leave it empty if the page doesn't exist.
analyst: Zhe Zhang                                                                                                # Name of the analyst
zip: no                                                                                                           # Whether to zip all output files

#################
##### ABOUT #####
#################
# Description of this analysis, could be any name/text pairs
description:    
  Project: Comparison between cell lines from 9 different cancer tissues (NCI-60); 
          **[GSE5949](http://www.ncbi.nlm.nih.gov/geo/query/acc.cgi?acc=GSE5949)**  
  PubMed: "Reinhold WC, Reimers MA, Lorenzi P, Ho J et al. 
          **Multifactorial regulation of E-cadherin expression: an integrative study.** 
          Mol Cancer Ther 2010 Jan;9(1):1-16. PMID: [20053763](http://www.ncbi.nlm.nih.gov/pubmed/20053763)."
  Experimental design: Comparison between cell lines from 9 different cancer tissue of origin types 
          (Breast, Central Nervous System, Colon, Leukemia, Melanoma, Non-Small Cell Lung, Ovarian, Prostate, Renal) from NCI-60 panel
  Analysis: Evaluate and adjust effect of p53 status.
  
######################
##### INPUT DATA #####
######################
# Prepared input data, saved in .rds format using the saveRDS() function
input:
  matrix: https://raw.githubusercontent.com/zhezhangsh/RoCA/master/data/gex/NCI60/expr_demo.txt   # Full matrix of processed gene expression matrix, before batch adjustment 
  sample: https://raw.githubusercontent.com/zhezhangsh/RoCA/master/data/gex/NCI60/sample_p53.rds  # A data.frame of sample features. Rows match columns of the data matrix

######################
##### PARAMETERS #####
######################
# Parameters to run this analysis
parameter:
  interest:         # column name(s) in the sample data.frame corresponding to variable(s) of interest of the project
  - Organ
  batch: p53_Status # column name in the sample data.frame corresponding to the batches
  nsv: 5            # number of surogate variables to estimate when running the sva() function
  iteration: 20     # number of iterations when running the irwsva algorithm implemented in the sva() function
  anova: 0.01       # 
