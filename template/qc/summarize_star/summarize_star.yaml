############################################################################################################
# To run this analysis:
#	- Edit the required fields
#	- Describe the project and analysis, in the <description> section
#	- Specify the path to all the Log.final.out files of STAR alignment, in the <input> section
#	- Collect information about how the STAR alignment was done and put it in the <parameter> section
############################################################################################################

####################
##### REQUIRED #####
####################
# Required fields for using the RoCA::CreateReport() function
template: summarize_star.Rmd 
output: examples/immune_cells       	# Where to save the output files
home: http://zhezhangsh.github.io/RoCA	# Location to project home (URL or local file)
analyst: Jim Zhang              		# Name of the analyst who runs this analysis
zip: no                         		# Whether to zip the output folder

#################
##### ABOUT #####
#################
# Analyst provides background description about this analysis, such as project title
description:    
  Project: "RNA-seq data in 3 immune cells of 4 donors"
  Analysis: "This is a demo."

######################
##### INPUT DATA #####
######################
# Prepared input data, with contents and format specified by the developer
input:		# Location of Log.final.out files generated by STAR alignment
  B_1: ~/Documents/RoCA/data/log/STAR/B_1_Log.final.out
  M_1: ~/Documents/RoCA/data/log/STAR/B_2_Log.final.out
  T_1: ~/Documents/RoCA/data/log/STAR/B_3_Log.final.out
  B_2: ~/Documents/RoCA/data/log/STAR/B_4_Log.final.out
  M_2: ~/Documents/RoCA/data/log/STAR/M_1_Log.final.out
  T_2: ~/Documents/RoCA/data/log/STAR/M_2_Log.final.out
  B_3: ~/Documents/RoCA/data/log/STAR/M_3_Log.final.out
  M_3: ~/Documents/RoCA/data/log/STAR/M_4_Log.final.out
  T_3: ~/Documents/RoCA/data/log/STAR/T_1_Log.final.out
  B_4: ~/Documents/RoCA/data/log/STAR/T_2_Log.final.out
  M_4: ~/Documents/RoCA/data/log/STAR/T_3_Log.final.out
  T_4: ~/Documents/RoCA/data/log/STAR/T_4_Log.final.out

######################
##### PARAMETERS #####
######################
# Parameters
# This is a special case of the RoCA framework
# The parameters are what were used for STAR alignment, instead of parameters used for this analysis
parameter:
  program: STAR-STAR_2.4.1c/bin/Linux_x86_64_static/STAR	# Location of STAR executible
  output: star/pass_2										                  # Location of SAM/BAM files created by STAR alignment
  genome: refs/hg38/star								                  # Location of reference genome
  transcriptome: refs/hg38/genes.gtf		                  # Location of reference transcriptome, such as a .gtf file
  star:														                        # Actual parameters used to run STAR, could be any fields
    runThreadN: 8
    readFilesCommand: zcat
    outSAMtype: BAM
    chimSegmentMin: 32
    outFilterType: BySJout
    outFilterMultimapNmax: 20
    alignSJoverhangMin: 8
    alignSJDBoverhangMin: 1
    outFilterMismatchNmax: 999
    outFilterMismatchNoverLmax: 0.04
    alignIntronMin: 20
    alignIntronMax: 1000000
    alignMatesGapMax: 1000000
