#############################################################################################################################
# Prepare the following data objects in text, Excel or R files to run this analysis
#############################################################################################################################

####################
##### REQUIRED #####
####################
# Required fields for generating any report using the RoCA::CreateReport() function
# template: https://raw.githubusercontent.com/zhezhangsh/
template: summarize_three.Rmd
output: examples/immune_cells                                                            # Where to write all the output files
home: http://zhezhangsh.github.io/RoCA                                              # URL or path to the project home page. Leave it empty if the page doesn't exist.
analyst: Zhe Zhang                                                                  # Name of the analyst
zip: no                                                                             # Whether to zip all output files

#################
##### ABOUT #####
#################
# Description of this analysis, could be any name/text pairs

##################
##### INPUTS #####
##################
# Prepared input data, saved in .rds format using the saveRDS() function
input:
  sample: sample.rds
  comparison:
    B_Cell: b_cell.rds   # output path is the current path if using relative path
    T_Cell: t_cell.rds            # output path is the current path if using relative path
    Monocyte: monocyte.rds         # output path is the current path if using relative path
  geneset: human_ss.rds

######################
##### PARAMETERS #####
######################
# Parameters to run this analysis
parameter:
  gene:
    union: yes
    pvalue: 0.01
    anova: 
      f1: Tissue                                            # Feature name distinguishing the 3 comparisons
      f2: Treatment                                         # Feature name distinguishing the 2 groups to be compared in each comparison
      formula: d ~ Tissue*Treatment                         # ANOVA formula, must include f1*f2
      core: 8                                               # Number of cores for parallel computing
      p: 0.01
  geneset:
    min: 10
    max: 500
    cluster:
      panova: 0.01        # lower with bigger sample size
      top: 2000           # higher with bigger sample size  
      seed: 12            
      merge: 
        corr: 0.8         # higher with bigger sample size  
        p: 0.01           # lower with bigger sample size       
      recluster: 
        time: 20          # re-cluster seed genes for multiple times
        corr: 0.8         # higher with bigger sample size  
        diff: 0.1         # higher if want more distinctive clusters
        nmax: 500         # max size of each cluster
